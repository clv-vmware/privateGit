{"version":3,"sources":["webpack:///webpack/bootstrap cda61dfff0ad52006c87","webpack:///./src/index.tsx","webpack:///external \"React\"","webpack:///external \"ReactDOM\"","webpack:///./src/components/AddItem.tsx","webpack:///./src/components/itemList.tsx","webpack:///./src/components/model.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap cda61dfff0ad52006c87\n **/","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\n\nimport { AddItem } from \"./components/AddItem\";\n// import { ItemList } from \"./components/itemList\";\nimport { TodoModel } from './components/model.ts';\n\n// // 放在哪里？\n// declare namespace JSX { interface Element { } interface IntrinsicElements { div: any; } }\n\n\n\n\n\nlet model = new TodoModel;\n\n\n\nfunction render () {console.log('in render');\n    ReactDOM.render(\n        <AddItem model={model} />,\n        document.getElementById(\"example\")\n    );\n}\n\nmodel.register(render);\nrender();\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.tsx\n **/","module.exports = React;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"React\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = ReactDOM;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ReactDOM\"\n ** module id = 2\n ** module chunks = 0\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\n/// <reference path=\"./interfaces.d.ts\" />\n\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { TodoModel } from './model.ts';\n\nimport { ItemList } from \"./itemList\";\n\nconst todos = ['a', 'b', 'c'];\n\nexport class AddItem extends React.Component<IAddItemProps, {}> {\n\n    \n    \n    constructor (IAddItemProps: any) {\n        super(IAddItemProps);\n    };\n\n    handleClick (event: __React.FormEvent) {\n        let val = ReactDOM.findDOMNode<HTMLInputElement>(this.refs[\"input\"]).value.trim();\n        if (val) {console.log(val);\n            this.props.model.addTodo(val);\n            ReactDOM.findDOMNode<HTMLInputElement>(this.refs[\"input\"]).value = '';\n        }  \n    };\n\n    render() {console.log('in additem render', this.props.model.todos);\n\n        return (\n            <div>\n                <input type=\"text\" ref=\"input\"/>\n                <input type=\"button\" value=\"add one todo !\" onClick={e => this.handleClick(e) }/>\n\n                <ul>\n                    {\n                        <ItemList todos={this.props.model.todos}/>\n                    }\n                </ul>\n            </div>\n        );\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/AddItem.tsx\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\n/// <reference path=\"./interfaces.d.ts\" />\n\nimport * as React from \"react\";\n\nexport class ItemList extends React.Component<IItemListProps, IItemState> {\n\n    \n    public state: IItemState;\n\n    constructor (props: IItemListProps) {\n        super(props);\n        this.state = {\n            todos: this.props.todos\n        }\n    };\n\n    componentWillReceiveProps (nextProps: IItemListProps) {\n        if (nextProps.todos !== this.props.todos) {\n            this.setState({\n                todos: nextProps.todos\n            }, () => {\n                console.log('in will receive next props', this.state.todos);\n            });\n        }\n    }\n    \n    render() {\n        let items = this.state.todos || [];\n        console.log('IN ITEM LIST', this.state);\n\n        return (\n            <ul>\n                {\n                    items.map((todo: string, i: number) => (\n                        <li key={`li-${i}`}>{todo}</li>\n                    ))\n                }\n            </ul>\n        );\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/itemList.tsx\n **/","/// <reference path=\"../../typings/tsd.d.ts\" />\n/// <reference path=\"./interfaces.d.ts\" />\n\nclass TodoModel implements IModel {\n    public todos: Array<string>;\n    public onChanges: Array<any>;\n\n    constructor() {\n        this.todos = [];\n        this.onChanges = [];\n    }\n\n    // 观察者模式？\n    public register (changes: any) {\n        this.onChanges.push(changes);\n    }\n\n    public inform () {\n        this.onChanges.forEach((o) => {\n            o();\n        });\n    }\n\n    public addTodo (todo: string): any {\n        this.todos = this.todos.concat(todo);\n        console.log('in model: ', this.todos);\n        this.inform();\n    }\n\n} \n\nexport { TodoModel };\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/model.ts\n **/"],"sourceRoot":""}